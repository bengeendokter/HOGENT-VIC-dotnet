@page "/gebruikers"
@attribute [Authorize(Roles = "Administrator, Moderator")]

@if (loading)
{
    <Loading Title="Gebruikers" />
    return;
}

@if (error)
{
    <Error Title="Gebruikers" ErrorMessage="@errorMessage" />
    return;
}

<GenericLayout Display=false Title="Gebruikers">
    <Actions>
        <UserFilter Role="@Role" />
    </Actions>
    <Content>
        @if(minorError){
            <div class="minorError_container">
                <div>@minorErrorMessage</div>
                <div @onclick="@ResetMinorError">
                    x
                </div>
            </div>
        }
        <SearchAndCreate 
            SearchTerm="@Searchterm"
            CreateCallback="() => NavigationManager.NavigateTo(createUri)"
            IsAuthUserScherm=true
        />
        <Table
            Object="@(new Gebruiker())"
            Collection="@userObjects"
            EditCallbackWithString="@GoToEditUser"
            DeleteCallbackWithString="@DeleteUserAsync"
            EnablePaging="true"
        />
    </Content>
</GenericLayout>


